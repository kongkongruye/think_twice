# Understanding empirical Bayes estimation (using baseball statistics) 总结
[原文查看此处](http://varianceexplained.org/r/empirical_bayes_baseball/)
## 问题
此文回答了这样一个经典问题：当你是一个baseball的球探，在你面前有两个球员，第一个球员打了10次球，有4次击中，第二个球员打了1000次，300次击中。你应该挑选哪个？表面上看第一个球员击中率是0.4,第二个球员的击中率是0.3，第一个球员的击中率高于第二个，你应该选择第一个。但是有一个问题是第一个球员的击球次数太少，他能打出这么高的击中率可能只是因为运气好，而第二个球员有足够多的证据表明他的击中率是0.3。

|球员编号|击中次数|击球次数|击中率|
|---|---|---|---|
|1|4|10|0.4|
|2|300|1000|0.3|

## 解决之道
在解释解决问题的方法前，先引入几个概念：
1. **[Beta分布](http://varianceexplained.org/statistics/beta_distribution_and_baseball/)**，简单的说β分布可以理解为概率的概率分布。以击球问题为例，当我们观察到一个球员总共击球1000次击中300次得时候，我们真实的击中率（概率）可能是0.3，也可能是0.29，该球员的击中率(概率)满足Beta分布，这个分布在0.3的位置概率密度很高。Beta分布的原理告诉我们，球员的真实击中率并不是一个固定值，也是个随机变量，其满足Beta分布。评价一个球员就是要比较其概率（击中率）的概率密度最高的点的大小，也就是**最可能概率**。

1. **先验概率（击中率）**，这个值是根据历史上的所有球手的击球情况计算出来的平均击中率。
1. **观测概率（击中率）**，这个值是观察到的某个球员的击中率。比如问题中的第一个球员的*观测击中率*为0.4，第二个球员的*观测击中率*为0.3。
1. **最可能概率（击中率）**，这个值是根据*先验概率*和*观测概率*计算得出的一个概率，用该值来表示某个球员的最有可能的概率（击中率）。

解决该问题的方法是使用*最可能概率*来评价球员，而*最可能概率*应当满足如下的特性：当球员击球次数太少的时候，让该球员的*最可能概率*接近*先验概率*，当球员的击球次数足够多的时候，让该球员的*最可能概率*接近该球员的*观测概率*。

## 具体计算方法
公式不好编辑，参考原文吧

## 推广/泛化
- 对于一般的率的问题都可以用此方法，前提条件是先验概率要靠谱，比如丢包率，损坏率，上线率等等。
